{"version":3,"sources":["webpack://blog/./src/pages/blogs.js"],"names":["React","blogs","setBlogs","dispBlogs","setDispBlogs","textbox","setTextbox","allBlogs","useStaticQuery","allMdx","nodes","card","length","map","blog","key","frontmatter","title","className","Link","to","url","tags","isSmall","description","link","type","size","value","onChange","event","text","target","filter","toLowerCase","includes","some","tag"],"mappings":"6JA2GA,UArGkB,WAChB,MAA0BA,WAAe,IAAlCC,EAAP,KAAcC,EAAd,KACA,EAAkCF,WAAe,IAA1CG,EAAP,KAAkBC,EAAlB,KACA,EAA8BJ,WAAe,IAAtCK,EAAP,KAAgBC,EAAhB,KAEMC,GAAWC,oBAAe,cAgBhCR,aAAgB,WACdE,EAASK,EAASE,OAAOC,OACzBN,EAAaG,EAASE,OAAOC,SAC5B,IAEH,IA8BMC,EACJR,EAAUS,OAAS,EACjBT,EAAUU,KAAI,SAACC,GACb,OACE,uBAAKC,IAAKD,EAAKE,YAAYC,MAAOC,UAAU,QAC1C,uBAAKA,UAAU,eACb,0BACE,gBAAC,EAAAC,KAAD,CAAMC,GAAIN,EAAKE,YAAYK,KAAMP,EAAKE,YAAYC,QAEpD,gBAAC,IAAD,CAAMK,KAAMR,EAAKE,YAAYM,KAAMC,SAAS,KAE9C,uBAAKL,UAAU,aACb,yBAAIJ,EAAKE,YAAYQ,cAEvB,+BAKN,6CAGJ,OACE,gCACE,wBAAMN,UAAU,cACd,4CACA,gBAAC,IAAD,CAAQO,KAAK,SAASR,MAAM,eAC5B,uBAAKC,UAAU,gBACb,mCAEE,yBACEQ,KAAK,OACLC,KAAK,KACLC,MAAOvB,EACPwB,SAvCS,SAACC,GAzBF,IAACC,EA0BnBzB,EAAWwB,EAAME,OAAOJ,OA1BLG,EA2BPD,EAAME,OAAOJ,MA1BzBxB,EACEH,EAAMgC,QACJ,SAACnB,GAAD,OACEA,EAAKE,YAAYC,MAAMiB,cAAcC,SAASJ,EAAKG,gBACnDpB,EAAKE,YAAYQ,YACdU,cACAC,SAASJ,EAAKG,gBACjBpB,EAAKE,YAAYM,KAAKc,MAAK,SAACC,GAC1B,OAAOA,EAAIH,cAAcC,SAASJ,EAAKG,2BA2D1CvB,GAEH,gBAAC,IAAD","file":"component---src-pages-blogs-js-f366abeee85ad0e4c3b7.js","sourcesContent":["import * as React from \"react\";\nimport { Link, graphql, useStaticQuery } from \"gatsby\";\nimport Header from \"../components/Header\";\nimport Footer from \"../components/Footer\";\nimport Tags from \"../components/Tags\";\n\nconst BlogsPage = () => {\n  const [blogs, setBlogs] = React.useState([]);\n  const [dispBlogs, setDispBlogs] = React.useState([]);\n  const [textbox, setTextbox] = React.useState(\"\");\n\n  const allBlogs = useStaticQuery(graphql`\n    query AllBlogsQuery {\n      allMdx(sort: { fields: frontmatter___date, order: DESC }) {\n        nodes {\n          frontmatter {\n            date(formatString: \"MMMM D, YYYY\")\n            title\n            description\n            url\n            tags\n          }\n        }\n      }\n    }\n  `);\n\n  React.useEffect(() => {\n    setBlogs(allBlogs.allMdx.nodes);\n    setDispBlogs(allBlogs.allMdx.nodes);\n  }, []);\n\n  const filterBlogs = (text) => {\n    setDispBlogs(\n      blogs.filter(\n        (blog) =>\n          blog.frontmatter.title.toLowerCase().includes(text.toLowerCase()) ||\n          blog.frontmatter.description\n            .toLowerCase()\n            .includes(text.toLowerCase()) ||\n          blog.frontmatter.tags.some((tag) => {\n            return tag.toLowerCase().includes(text.toLowerCase());\n          })\n      )\n    );\n  };\n\n  const filterTags = (text) => {\n    setDispBlogs(\n      blogs.filter((blog) => {\n        return blog.frontmatter.tags.some((tag) => {\n          return tag.toLowerCase().includes(text.toLowerCase());\n        });\n      })\n    );\n  };\n\n  const handleChange = (event) => {\n    setTextbox(event.target.value);\n    filterBlogs(event.target.value);\n  };\n\n  const card =\n    dispBlogs.length > 0 ? (\n      dispBlogs.map((blog) => {\n        return (\n          <div key={blog.frontmatter.title} className=\"card\">\n            <div className=\"card-header\">\n              <h2>\n                <Link to={blog.frontmatter.url}>{blog.frontmatter.title}</Link>\n              </h2>\n              <Tags tags={blog.frontmatter.tags} isSmall={true} />\n            </div>\n            <div className=\"card-body\">\n              <p>{blog.frontmatter.description}</p>\n            </div>\n            <hr />\n          </div>\n        );\n      })\n    ) : (\n      <p>一致する記事がありませんでした。</p>\n    );\n\n  return (\n    <>\n      <main className=\"blogs-main\">\n        <title>Search Page</title>\n        <Header link=\"/blogs\" title=\"Tech Blogs\" />\n        <div className=\"blogs-search\">\n          <label>\n            検索：\n            <input\n              type=\"text\"\n              size=\"25\"\n              value={textbox}\n              onChange={handleChange}\n            />\n          </label>\n        </div>\n        {card}\n      </main>\n      <Footer />\n    </>\n  );\n};\n\nexport default BlogsPage;\n"],"sourceRoot":""}