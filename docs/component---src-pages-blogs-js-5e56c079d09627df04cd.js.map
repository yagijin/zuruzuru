{"version":3,"sources":["webpack://blog/./src/components/Tags.js","webpack://blog/./src/pages/blogs.js"],"names":["props","tags","map","tag","key","className","isSmall","React","blogs","setBlogs","dispBlogs","setDispBlogs","textbox","setTextbox","allBlogs","useStaticQuery","allMdx","nodes","card","length","blog","frontmatter","title","Link","to","url","description","link","type","size","value","onChange","event","text","target","filter","toLowerCase","includes","some"],"mappings":"uHAkBA,IAfa,SAACA,GACZ,IAAMC,EAAOD,EAAMC,KAAKC,KAAI,SAACC,GAC3B,OACE,uBACEC,IAAKD,EACLE,UAA4B,GAAjBL,EAAMM,QAAkB,uBAAyB,aAE3DH,MAKP,OAAO,uBAAKE,UAAU,kBAAkBJ,K,8FC4F1C,UArGkB,WAChB,MAA0BM,WAAe,IAAlCC,EAAP,KAAcC,EAAd,KACA,EAAkCF,WAAe,IAA1CG,EAAP,KAAkBC,EAAlB,KACA,EAA8BJ,WAAe,IAAtCK,EAAP,KAAgBC,EAAhB,KAEMC,GAAWC,oBAAe,cAgBhCR,aAAgB,WACdE,EAASK,EAASE,OAAOC,OACzBN,EAAaG,EAASE,OAAOC,SAC5B,IAEH,IA8BMC,EACJR,EAAUS,OAAS,EACjBT,EAAUR,KAAI,SAACkB,GACb,OACE,uBAAKhB,IAAKgB,EAAKC,YAAYC,MAAOjB,UAAU,QAC1C,uBAAKA,UAAU,eACb,0BACE,gBAAC,EAAAkB,KAAD,CAAMC,GAAIJ,EAAKC,YAAYI,KAAML,EAAKC,YAAYC,QAEpD,gBAAC,IAAD,CAAMrB,KAAMmB,EAAKC,YAAYpB,KAAMK,SAAS,KAE9C,uBAAKD,UAAU,aACb,yBAAIe,EAAKC,YAAYK,cAEvB,+BAKN,6CAGJ,OACE,gCACE,wBAAMrB,UAAU,cACd,4CACA,gBAAC,IAAD,CAAQsB,KAAK,SAASL,MAAM,eAC5B,uBAAKjB,UAAU,gBACb,mCAEE,yBACEuB,KAAK,OACLC,KAAK,KACLC,MAAOlB,EACPmB,SAvCS,SAACC,GAzBF,IAACC,EA0BnBpB,EAAWmB,EAAME,OAAOJ,OA1BLG,EA2BPD,EAAME,OAAOJ,MA1BzBnB,EACEH,EAAM2B,QACJ,SAACf,GAAD,OACEA,EAAKC,YAAYC,MAAMc,cAAcC,SAASJ,EAAKG,gBACnDhB,EAAKC,YAAYK,YACdU,cACAC,SAASJ,EAAKG,gBACjBhB,EAAKC,YAAYpB,KAAKqC,MAAK,SAACnC,GAC1B,OAAOA,EAAIiC,cAAcC,SAASJ,EAAKG,2BA2D1ClB,GAEH,gBAAC,IAAD","file":"component---src-pages-blogs-js-5e56c079d09627df04cd.js","sourcesContent":["import * as React from \"react\";\nimport { Link } from \"gatsby\";\n\nconst Tags = (props) => {\n  const tags = props.tags.map((tag) => {\n    return (\n      <div\n        key={tag}\n        className={props.isSmall == true ? \"tags-main tags-small\" : \"tags-main\"}\n      >\n        {tag}\n      </div>\n    );\n  });\n\n  return <div className=\"tags-container\">{tags}</div>;\n};\n\nexport default Tags;\n","import * as React from \"react\";\nimport { Link, graphql, useStaticQuery } from \"gatsby\";\nimport Header from \"../components/Header\";\nimport Footer from \"../components/Footer\";\nimport Tags from \"../components/Tags\";\n\nconst BlogsPage = () => {\n  const [blogs, setBlogs] = React.useState([]);\n  const [dispBlogs, setDispBlogs] = React.useState([]);\n  const [textbox, setTextbox] = React.useState(\"\");\n\n  const allBlogs = useStaticQuery(graphql`\n    query AllBlogsQuery {\n      allMdx(sort: { fields: frontmatter___date, order: DESC }) {\n        nodes {\n          frontmatter {\n            date(formatString: \"MMMM D, YYYY\")\n            title\n            description\n            url\n            tags\n          }\n        }\n      }\n    }\n  `);\n\n  React.useEffect(() => {\n    setBlogs(allBlogs.allMdx.nodes);\n    setDispBlogs(allBlogs.allMdx.nodes);\n  }, []);\n\n  const filterBlogs = (text) => {\n    setDispBlogs(\n      blogs.filter(\n        (blog) =>\n          blog.frontmatter.title.toLowerCase().includes(text.toLowerCase()) ||\n          blog.frontmatter.description\n            .toLowerCase()\n            .includes(text.toLowerCase()) ||\n          blog.frontmatter.tags.some((tag) => {\n            return tag.toLowerCase().includes(text.toLowerCase());\n          })\n      )\n    );\n  };\n\n  const filterTags = (text) => {\n    setDispBlogs(\n      blogs.filter((blog) => {\n        return blog.frontmatter.tags.some((tag) => {\n          return tag.toLowerCase().includes(text.toLowerCase());\n        });\n      })\n    );\n  };\n\n  const handleChange = (event) => {\n    setTextbox(event.target.value);\n    filterBlogs(event.target.value);\n  };\n\n  const card =\n    dispBlogs.length > 0 ? (\n      dispBlogs.map((blog) => {\n        return (\n          <div key={blog.frontmatter.title} className=\"card\">\n            <div className=\"card-header\">\n              <h2>\n                <Link to={blog.frontmatter.url}>{blog.frontmatter.title}</Link>\n              </h2>\n              <Tags tags={blog.frontmatter.tags} isSmall={true} />\n            </div>\n            <div className=\"card-body\">\n              <p>{blog.frontmatter.description}</p>\n            </div>\n            <hr />\n          </div>\n        );\n      })\n    ) : (\n      <p>一致する記事がありませんでした。</p>\n    );\n\n  return (\n    <>\n      <main className=\"blogs-main\">\n        <title>Search Page</title>\n        <Header link=\"/blogs\" title=\"Tech Blogs\" />\n        <div className=\"blogs-search\">\n          <label>\n            検索：\n            <input\n              type=\"text\"\n              size=\"25\"\n              value={textbox}\n              onChange={handleChange}\n            />\n          </label>\n        </div>\n        {card}\n      </main>\n      <Footer />\n    </>\n  );\n};\n\nexport default BlogsPage;\n"],"sourceRoot":""}